<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>電波人間 装備データベース</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div style="text-align:right; padding:10px;">
            <button onclick="saveToGitHub()" class="btn btn-primary">GitHubに保存</button>
        </div>
        
        <div class="header">
            <h1 class="title">電波人間 装備データベース</h1>
            <input type="text" class="search-box" id="searchBox" placeholder="装備名やタグで検索...">
        </div>

            <!-- 新機能: タグ検索と☆の数検索 -->
            <div class="search-filters">
                <input type="text" id="tagSearchBox" placeholder="タグを入力 (AND検索)" class="search-box">
                <select id="starFilter" class="search-box">
                    <option value="">☆の数で検索</option>
                    <option value="1">☆1</option>
                    <option value="2">☆2</option>
                    <option value="3">☆3</option>
                    <option value="4">☆4</option>
                    <option value="5">☆5</option>
                </select>
                <button onclick="applyAdvancedSearch()" class="btn btn-primary">検索</button>
            </div>
        </div>        

        <div id="categoryView" class="category-grid">
            <div class="category-item" data-category="ふく">
                <span class="category-text">ふく</span>
                <img src="https://cdn.discordapp.com/attachments/1132509650168840197/1392059589712805989/8d26784b58ceb607.png?ex=686e2805&is=686cd685&hm=f4ee35d6e404f1dc37d7d780a11beca9acf9c562c512622cc4db0073763f6a8a&" alt="ふく" class="category-icon">
            </div>
            <div class="category-item" data-category="かお">
                <span class="category-text">かお</span>
                <img src="https://cdn.discordapp.com/attachments/1132509650168840197/1392059589339517032/a4d9381615dcb6d8.png?ex=686e2805&is=686cd685&hm=8c77f740ae447b357c8ee8f4134c0022c07a2ae8e7b75e376277131934ead71f&" alt="かお" class="category-icon">
            </div>
            <div class="category-item" data-category="くび">
                <span class="category-text">くび</span>
                <img src="https://cdn.discordapp.com/attachments/1132509650168840197/1392059588961894460/a3688ad41b08be63.png?ex=686e2805&is=686cd685&hm=2667820e2dd3e45988c5098e69b12c727ea6c5119c7c90e4c220ac00fadd65b6&" alt="くび" class="category-icon">
            </div>
            <div class="category-item" data-category="うで">
                <span class="category-text">うで</span>
                <img src="https://cdn.discordapp.com/attachments/1132509650168840197/1392059588534079498/e94474f69bd1c5a5.png?ex=686e2805&is=686cd685&hm=c9bd413857e00cf581aa00030a24395e8b06c66b91370cf599244c7dc80eae20&" alt="うで" class="category-icon">
            </div>
            <div class="category-item" data-category="せなか">
                <span class="category-text">せなか</span>
                <img src="https://cdn.discordapp.com/attachments/1132509650168840197/1392059588169306173/6fec1fd2c850da27.png?ex=686e2805&is=686cd685&hm=5268ef3fab0098ceaaaea5ea38df9c76b1c0552be11eb7589e99ec6684c84791&" alt="せなか" class="category-icon">
            </div>
            <div class="category-item" data-category="あし">
                <span class="category-text">あし</span>
                <img src="https://cdn.discordapp.com/attachments/1132509650168840197/1392059590392287233/c9fb3307375dfe3c.png?ex=686e2805&is=686cd685&hm=6dab06ddab9a09c04e1a65862bb589e5f5662ad85734f4d0177b603081952211&" alt="あし" class="category-icon">
            </div>
        </div>

        <div id="equipmentView" class="equipment-list">
            <button class="back-button" onclick="showCategoryView()">← カテゴリ一覧に戻る</button>
            <div id="equipmentList"></div>
        </div>

        <button class="add-button" onclick="openModal()">+</button>
    </div>

    <!-- 装備追加モーダル -->
    <div id="addModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <h2 class="modal-title">装備を追加</h2>
            <form id="equipmentForm">
                <div class="form-group">
                    <label class="form-label">装備名</label>
                    <input type="text" id="equipmentName" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label">カテゴリ</label>
                    <select id="equipmentCategory" class="form-select" required>
                        <option value="">選択してください</option>
                        <option value="ふく">ふく</option>
                        <option value="かお">かお</option>
                        <option value="くび">くび</option>
                        <option value="うで">うで</option>
                        <option value="せなか">せなか</option>
                        <option value="あし">あし</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">星レベル</label>
                    <select id="equipmentStars" class="form-select" required>
                        <option value="">選択してください</option>
                        <option value="1">☆1</option>
                        <option value="2">☆2</option>
                        <option value="3">☆3</option>
                        <option value="4">☆4</option>
                        <option value="5">☆5</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">画像ファイル</label>
                    <input type="file" id="equipmentImageFile" class="form-input" accept="image/*" required>
                </div>
                <div class="form-group">
                    <label class="form-label">効果</label>
                    <textarea id="equipmentEffect" class="form-textarea" required></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">タグ (Enterキーで追加)</label>
                    <div class="tag-input-container" id="tagContainer">
                        <input type="text" id="tagInput" class="tag-input" placeholder="タグを入力してEnterキーを押してください">
                    </div>
                </div>
                <div class="button-group">
                    <button type="button" class="btn btn-secondary" onclick="closeModal()">キャンセル</button>
                    <button type="submit" class="btn btn-primary">追加</button>
                </div>
            </form>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
